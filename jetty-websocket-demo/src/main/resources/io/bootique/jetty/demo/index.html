<!DOCTYPE html>
<html>
   <meta charset = "utf-8" />
   <title>WebSocket Test</title>

   <h2 style="font-size: 36px; display: flex; justify-content: center; margin-top: 50px;">WebSocket Test</h2>

   <div style="display: flex; justify-content: center; margin-top: 50px;">
      <button name="First Socket" onClick="fw()" style="margin-right: 20px; font-size: 18px;">Connect to the First Socket</button>

      <button name="Second Socket" onClick="sw()" style="margin-right: 20px; font-size: 18px;">Connect to the Second Socket</button>
   </div>
   <br>

   <script language = "javascript" type = "text/javascript">
      var output;

      function fw() {
         var wsUriFirst = "ws://127.0.0.1:9999/myapp/fw";
         testWebSocket(wsUriFirst);
         var pre = document.createElement("br");
         output.appendChild(pre);
      }

      function sw() {
         var wsUriSecond = "ws://127.0.0.1:9999/myapp/sw";
         testWebSocket(wsUriSecond);
         var pre = document.createElement("br");
         output.appendChild(pre);
      }

      function init() {
         output = document.getElementById("output");
      }

      function testWebSocket(wsUri) {
         var websocket = new WebSocket(wsUri);

         websocket.onopen = function(evt) {
		    var hello = "User: Hello server " + wsUri;
		    websocket.send(hello);
		    writeToScreen(hello);
         };

		websocket.onmessage = function(event) {
			writeToScreen(event.data);
		};

		websocket.onerror = function(error) {
			writeToScreen("Error : " + error.message);
		};
      }

      function writeToScreen(message) {
        var pre = document.createElement("p");
        pre.style.wordWrap = "break-word";
        pre.innerHTML = message;
        output.appendChild(pre);
	  }

      window.addEventListener("load", init, false);

   </script>

   <div id = "output"></div>

</html>